# ---
# kind: pipeline
# type: docker
# name: default

# # remove this section if your CPU is amd64
# platform:
#   os: linux
#   arch: arm64

# steps:
# - name: hello
#   image: busybox
#   commands:
#   - echo Hi Welcome

# trigger:
#   branch:
#   - main

kind: pipeline

steps:
- name: test
  image: golang
  commands:
  - go test
  - go build

- name: publish
  image: plugins/docker
  settings:
    repo: octocat/hello-world
    tags: [ latest, 1.0, 1 ]
